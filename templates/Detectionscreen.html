<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Skin Cancer Detection System</title>
  
  <style>
    html {
      height: 100%;
    }
    
    body {
      margin: 0;
    }
    
    .bg {
      animation: slide 5s ease-in-out infinite alternate;
      background-image: linear-gradient(-60deg, #333 50%, #777 50%);
      bottom: 0;
      left: -50%;
      opacity: 0.7;
      position: fixed;
      right: -50%;
      top: 0;
      z-index: -1;
    }
    
    .bg2 {
      animation-direction: alternate-reverse;
      animation-duration: 6s;
    }
    
    .bg3 {
      animation-duration: 7s;
    }
    
    .content {
      background-color: rgba(255, 255, 255, 0.8);
      border-radius: 0.25em;
      box-shadow: 0 0 0.25em rgba(0, 0, 0, 0.25);
      box-sizing: border-box;
      left: 50%;
      padding: 10vmin;
      position: fixed;
      text-align: center;
      top: 50%;
      transform: translate(-50%, -50%);
    }
    
    h1 {
      font-family: monospace;
    }
    .camera-button {
      padding: 12px 25px;
            font-size: 16px;
            color: white;
            background: linear-gradient(45deg, #868b8e, #0a0708);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 10px;
    }
    .camera-button:hover {
      background-color: #656867; /* Dark teal hover */
    }
    @keyframes slide {
      0% {
        transform: translateX(-20%);
      }
      100% {
        transform: translateX(20%);
      }
    }
    
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    header {
      background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(50, 50, 50, 0.7));
      color: white;
      padding: 20px 10px;
      text-align: center;
      font-size: 28px;
      font-weight: bold;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .container {
      width: 100%;
      max-width: 1536px;
      margin-left: auto;
      margin-right: auto;
      padding-left: 0.5rem;
      padding-right: 0.5rem;
    }
    
    /* 2xl */
    @media (max-width: 1536px) {
      .container {
        max-width: 1280px;
      }
    }
    
    /* xl */
    @media (max-width: 1280px) {
      .container {
        max-width: 1024px;
      }
    }
    
    /* lg */
    @media (max-width: 1024px) {
      .container {
        max-width: 768px;
      }
    }
    
    /* md */
    @media (max-width: 768px) {
      .container {
        max-width: 640px;
      }
    }
    
    /* sm */
    @media (max-width: 640px) {
      .container {
        max-width: 475px;
      }
    }
    
    /* xs */
    @media (max-width: 475px) {
      .container {
        width: 100%;
        max-width: 100%;
        padding-left: 1rem;
        padding-right: 1rem;
      }
    }
    

    h1 {
      text-align: center;
      font-size: 2.5em;
      color: #ffffff; 
      margin-bottom: 10px;
    }

    .subtitle {
      text-align: center;
      font-size: 1.2em;
      color:white;
    }

    .upload-section {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-top: 30px;
      text-align: center;
      flex-wrap: wrap;
    }
   
   
    .image-container {
      width: 250px;
      height: 250px;
      border: 5px solid  #727D73; /* Teal border */
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255, 255, 255, 0.1);
      margin-bottom: 20px;
    }

    .image-container img {
      max-width: 100%;
      max-height: 100%;
    }

    .upload-button {
      padding: 12px 25px;
            font-size: 16px;
            color: white;
            background: linear-gradient(45deg, #868b8e, #0a0708);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 10px;
    
    }
    .test-button {
      padding: 12px 25px;
            font-size: 16px;
            color: white;
            background: linear-gradient(45deg, #868b8e, #0a0708);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 10px;
    
    }

    .profile-container {
      position: absolute;
      top: 80px; /* Adjust this value based on header height */
      right: 20px; /* Keep it aligned to the right */
  }

.profile-button {
  padding: 12px 25px;
            font-size: 16px;
            color: white;
            background: linear-gradient(45deg, #868b8e, #0a0708);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 10px;
}
  
  .profile-button:hover {
      background: linear-gradient(30deg, #C0C9B3, #5F6B63);
      box-shadow: 0 6px 8px black;
  }
  

   

    .results {
      color:white;
      margin-left: 30px;
      text-align: left;
      line-height: 1.8;
    }

    .highlight {
      font-weight: bold;
      color: white;
      font-size: 1.2em;
      text-align: center;
      display: block;
    }

    .info-box {
      margin: 20px auto;
      padding: 20px;
      border: 2px solid ; /* Blue border */
      border-radius: 10px;
      width: 60%;
      background-color: whitesmoke;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    .info-box h3 {
      color: #004D40; /* Blue heading */
      margin-bottom: 10px;
    }

    footer {
      margin-top: auto;
      background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(50, 50, 50, 0.7));
      color: white;
      padding: 20px 10px;
      font-size: 14px;
      text-align: center;
    }

    footer .developer-text {
      font-size: 18px;
      margin-bottom: 10px;
    }

    footer .developer-info {
      display: flex;
      justify-content: space-between;
      width: 80%;
      margin: 10px auto;
      font-size: 18px;
    }

    footer .developer-info p {
      text-align: center;
      flex: 1;
    }

    footer a {
      color: #FFCCBC; /* Soft coral links */
      text-decoration: underline;
    }

    footer a:hover {
      color: #FFE0B2; /* Lighter coral hover */
    }footer {
            margin-top: auto;
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(50, 50, 50, 0.7));
            color: white;
            text-align: center;
            padding: 20px 10px;
            font-size: 14px;
        }

        footer p {
            margin: 5px 0;
            
        }
        footer .developer-text {
            font-size: 18px;
            margin-bottom: 10px;
        }

        footer .developer-info {
            display: flex;
            justify-content: space-between;
            width: 80%;
            margin-left: 10%;
            font-size: 18px;
        }
        /* Added button style for the "My Appointment" button */
    .appointment-button {
      position: absolute;
      top: 100px;
      right: 20px;
      padding: 10px 20px;
      border: 2px solid #00897B; /* Outline with teal */
      color: #000000; /* Text color same as outline */
      background-color: transparent;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
    }
    .upload-button:hover {
      background: linear-gradient(30deg,#D9DFC6, #727D73);
      transform: translateY(-2px);
      box-shadow: 0 6px 8px black;
    }
    .camera-button:hover{
      background: linear-gradient(30deg,#D9DFC6, #727D73);
      transform: translateY(-2px);
      box-shadow: 0 6px 8px black;
    }
    .test-button:hover{
      background: linear-gradient(30deg,#D9DFC6, #727D73);
      transform: translateY(-2px);
      box-shadow: 0 6px 8px black;
    }

    



    .appointment-button:hover {
      background-color: #00897B; /* Teal background on hover */
      color: white; /* White text on hover */
    }

        footer a {
            color: #FFCCBC; /* Soft coral links */
            text-decoration: underline;
        }

        footer a:hover {
            text-decoration: none;
            color: #FFE0B2; /* Lighter coral hover */
        }


        html {
          height: 100%;
        }
        
        body {
          margin: 0;
        }
        
        .bg {
          animation: slide 5s ease-in-out infinite alternate;
          background-image: linear-gradient(-60deg, #333 50%, #777 50%);
          bottom: 0;
          left: -50%;
          opacity: 0.7;
          position: fixed;
          right: -50%;
          top: 0;
          z-index: -1;
        }
        
        .bg2 {
          animation-direction: alternate-reverse;
          animation-duration: 6s;
        }
        
        .bg3 {
          animation-duration: 7s;
        }
        
        .content {
          background-color: rgba(255, 255, 255, 0.8);
          border-radius: 0.25em;
          box-shadow: 0 0 0.25em rgba(0, 0, 0, 0.25);
          box-sizing: border-box;
          left: 50%;
          padding: 10vmin;
          position: fixed;
          text-align: center;
          top: 50%;
          transform: translate(-50%, -50%);
        }
        
        h1 {
          font-family: monospace;
        }
        
        @keyframes slide {
          0% {
            transform: translateX(-20%);
          }
          100% {
            transform: translateX(20%);
          }
        }
        .translate-button{
          padding: 12px 25px;
          font-size: 16px;
          color: black;
          background: white;
          border: none;
          border-radius: 5px;
          cursor: pointer;
          margin: 10px;
          transition: all 0.3s ease;
      }
        
  </style>

  

</head>
<body>
  <header >
    Skin cancer detection and classification    
  </header>
  <div class="bg"></div>
  <div class="bg bg2"></div>
  <div class="bg bg3"></div>
</head>

<div class="translate-container">
  <button class="translate-button" onclick="toggleTranslate()">üåê Translate</button>
  <div id="google_translate_element" style="display: none;"></div>
</div>
 
<div class="profile-container">
  <button class="profile-button">Profile</button>
</div>
  

<script>
function toggleTranslate() {
    var element = document.getElementById("google_translate_element");
    if (element.style.display === "none") {
        element.style.display = "block";
    } else {
        element.style.display = "none";
    }
}

function googleTranslateElementInit() {
    new google.translate.TranslateElement({
        pageLanguage: 'en',
        includedLanguages: 'hi,bn,te,mr,ta,ur,gu,ml,kn,pa,or,as', // Indian languages
        layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google_translate_element');

    // Apply saved translation language
    var lang = localStorage.getItem("selectedLanguage");
    if (lang) {
        setTimeout(() => {
            document.querySelector("select.goog-te-combo").value = lang;
            document.querySelector("select.goog-te-combo").dispatchEvent(new Event('change'));
        }, 2000); // Delay to ensure translation loads
    }
}

// Listen for language selection and store in localStorage
document.addEventListener("change", function(event) {
    if (event.target.classList.contains("goog-te-combo")) {
        localStorage.setItem("selectedLanguage", event.target.value);
    }
});
</script>

<!-- Load Google Translate API -->
<script type="text/javascript" 
      src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit">
</script>



    <div class="upload-section">
      <div class="image-container" id="image-container">
        <p>No Image</p>
      </div>
      <div class="results">
        <p><strong>Prediction:</strong> <div id="predict-class"> -- </div></p>
        <p><strong>Confidence level:</strong> <div id="predict-confidance"> -- </div></p>
        
        <button class="upload-button" id="upload-button" text-color="white">UPLOAD</button>
        <input type="file" id="file-input" style="display: none;" accept="image/*">
        <button class="camera-button" id="camera-button" text-color="b">TAKE PHOTO</button>
        <button class="test-button" id="test-button" text-color="b">TEST</button>
        <!-- Hidden file inputs -->
        <input type="file" id="file-input" style="display: none;" accept="image/*">
        <input type="file" id="camera-input" style="display: none;" accept="image/*" capture="environment">
      </div>
    </div>
      </div>
    </div>
  
    <p align="center" style="font-size: 18px; color: white">
      <a href="/newappointment" style="text-decoration: none; color: white;">
          Click now for consultancy or book an appointment
      </a>
      
  </p><div class="info-box">
      <h3>1.Benign</h3>
      <p>Benign tumors are non-cancerous growths that develop in the body. They grow slowly, have well-defined borders,
         and do not spread to other parts of the body. While they are generally harmless, they can cause health issues if 
         they press against organs, nerves, or blood vessels. In many cases, benign tumors do not require treatment unless they 
         cause discomfort or complications.</p>
    </div>
    <div class="info-box">
      <h3>2. Malignant</h3>
      <p>Malignant tumors, on the other hand, are cancerous and can grow rapidly, invading nearby tissues. They have the ability to 
        spread (metastasize) to different parts of the body through the blood or lymphatic system. Malignant tumors require medical 
        intervention such as surgery, chemotherapy, or radiation to prevent further complications. Early detection and treatment are 
        crucial in managing malignant conditions effectively.</p>
    </div>
    
  </div>

  <footer>
    <p class="developer-text">Designed and Developed by:</p>
    <div class="developer-info">
      <p>Angel Blessy</p>
      <p>Anna Bino</p>
      <p>Bhavani K</p>
    </div>
    <p>Need help? Visit our <a href="sup">Support Page</a> or <a href="contact">Contact Us</a>.</p>
  </footer>

  <script>
    // JavaScript to handle image upload
    // JavaScript to handle image upload
    const uploadButton = document.getElementById('upload-button');
    const fileInput = document.getElementById('file-input');
    const cameraInput = document.getElementById('camera-input');
    const cameraButton = document.getElementById('camera-button');
    const imageContainer = document.getElementById('image-container');
    const testButton = document.getElementById('test-button');
    let image = null;

    // Upload Button functionality
    uploadButton.addEventListener('click', () => {
      fileInput.click();  // Open the file picker for gallery images
    });

    // Take Photo Button functionality
    cameraButton.addEventListener('click', () => {
      if(confirm("OK to use camera, Cancel for file manager")) {
        cameraInput.click();  // Open camera directly
      } else {
        fileInput.click();    // Open file manager
      }
    });

    // Function to handle image display
    function displayImage(file) {
      if (file) {
        const reader = new FileReader();
        reader.onload = (e) => {
          imageContainer.innerHTML = `<img src="${e.target.result}" alt="Selected Image">`;
        };
        reader.readAsDataURL(file);
      }
    }

    // When an image is selected from file manager
    fileInput.addEventListener('change', (event) => {
      displayImage(event.target.files[0]);
      image = event.target.files[0];
    });

    // When a photo is taken with camera
    cameraInput.addEventListener('change', (event) => {
      displayImage(event.target.files[0]);
      image = event.target.files[0];
    });



    const predictClasslb = document.getElementById('predict-class');
    const predictConfidencelb = document.getElementById('predict-confidance');
    


    // Test Button functionality
    testButton.addEventListener('click', () => {

      if (!image) {
        alert('Please upload an image first!');
        return;
      }

      let formData = new FormData();
      formData.append("file", image);
      console.log(image);

      fetch('/predict_result_api/', {
        method: 'POST',
        body: formData,
      })
      .then(response => {
        response.json().then(data => {
          console.log(data["result"]);
          predictClasslb.innerHTML = (data.result.class).toUpperCase();
          predictConfidencelb.innerHTML = data.result.confidence + "%";
        });
      })
    });

    const profileButton = document.querySelector('.profile-button');
profileButton.addEventListener('click', () => {
  window.location.href = '/myappointment/';
});
  </script>
</body>
</html>
